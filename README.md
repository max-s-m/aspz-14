# Завдання за варіантом 18

## Умова:

Реалізуйте механізм автоматичного вимкнення серверу після простою (немає запитів протягом N секунд) із використанням таймера.

## [Програмний код](1.c)

## Опис:

Написано програму, що симулює роботу сервера, може приймати імітацію запитів та, якщо запитів нема більше TIME секунд
(цілочисельна константа, як в умові N, для тестування взято 5 секунд), то "сервер" вимикається (програма зупиняється).
Це реалізовано шляхом створення хендлера для сигналу SIGALRM, який надсилає функція alarm(), яку було обрано в якості
таймера. Створено цикл while(1), який є мінімалістичним типу сервером, де просто через getchar() приймається ввід
користувача. Після getchar() йде вивід повідомлення та скид таймера шляхом виклику alarm(TIME) заново, що є частиною
коду яка є досяжною тільки в тому випадку, якщо користувач щось ввів (для тестування натискався enter), оскільки інакше
getchar() блокує виконання програми після себе, поки не отримає щось.

Поки програма чекає на ввід користувача після getchar() вона "спить", а розбудити її може чи enter, чи сигнал (тут
якраз SIGALRM), який надходить, викликається хендлер, у якому через write () виводиться повідомлення про завершення
роболти серверу і програма виходить, таким чином спиняючи сервер після простою в 5 секунд.

## Результат виконання:

```
max@aspz:~/c/14 $ gcc -Wall 1.c -o 1
max@aspz:~/c/14 $ ./1
Server is on. Turns off after 5 sec of no requests
Press enter to make request
Waiting for request...

Got request (1)
Waiting for request...

Got request (2)
Waiting for request...

Got request (3)
Waiting for request...

Got request (4)
Waiting for request...
No req for 5 seconds, shutting down
max@aspz:~/c/14 $
```
